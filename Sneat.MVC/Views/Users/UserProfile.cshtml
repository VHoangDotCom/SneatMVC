@{
    Layout = "~/Views/Shared/_SneatProLayout.cshtml";
    ViewData["title"] = "Update User";
}
@using Sneat.MVC.Models.DTO.User;
@using Sneat.MVC.Common
@model UserDetailOutputModel
@{
    UserDetailOutputModel ss = (UserDetailOutputModel)HttpContext.Current.Session[SystemParam.SESSION_LOGIN];
}

<div class="content-wrapper">
    <div class="container-xxl flex-grow-1 container-p-y">

        <div class="col-xl-12">
            <h6 class="text-muted">Filled Pills</h6>
            <div class="nav-align-top mb-4">
                <ul class="nav nav-pills mb-3 nav-fill" role="tablist">
                    <li class="nav-item">
                        <button type="button"
                                class="nav-link active"
                                role="tab"
                                data-bs-toggle="tab"
                                data-bs-target="#navs-pills-justified-home"
                                aria-controls="navs-pills-justified-home"
                                aria-selected="true">
                            <i class="tf-icons bx bx-user me-1"></i> Profile
                        </button>
                    </li>
                    <li class="nav-item">
                        <button type="button"
                                class="nav-link"
                                role="tab"
                                data-bs-toggle="tab"
                                data-bs-target="#navs-pills-justified-profile"
                                aria-controls="navs-pills-justified-profile"
                                aria-selected="false">
                            <i class="tf-icons bx bx-user me-1"></i> Profile
                        </button>
                    </li>
                    <li class="nav-item">
                        <button type="button"
                                class="nav-link"
                                role="tab"
                                data-bs-toggle="tab"
                                data-bs-target="#navs-pills-justified-messages"
                                aria-controls="navs-pills-justified-messages"
                                aria-selected="false">
                            <i class="tf-icons bx bx-message-square me-1"></i> Messages
                            <span class="badge rounded-pill badge-center h-px-20 w-px-20 bg-danger ms-1">3</span>
                        </button>
                    </li>
                </ul>
                <div class="tab-content">
                    <div class="tab-pane fade show active" id="navs-pills-justified-home" role="tabpanel">
                        <div class="row">
                            <div class="col-xl-12 col-lg-12 col-md-12 order-1 order-md-0">
                                <div class="customer-avatar-section">
                                    <div class="d-flex align-items-center flex-column">
                                        <img class="img-fluid rounded my-3"
                                             src="@ss.Avatar"
                                             height="110"
                                             width="110"
                                             alt="User avatar" />
                                        <div class="customer-info text-center">
                                            <h4 class="mb-1">@ss.UserName</h4>
                                            <small>Customer ID #634759</small>
                                        </div>
                                    </div>
                                </div>

                                <div class="info-container">
                                    <small class="d-block pt-4 border-top fw-normal text-uppercase text-muted my-3">Thông tin cá nhân</small>
                                    <ul class="list-unstyled">
                                        <li class="mb-3">
                                            <span class="fw-medium me-2">Tên đăng nhập:</span>
                                            <span>@ss.UserName</span>
                                        </li>
                                        <li class="mb-3">
                                            <span class="fw-medium me-2">Email:</span>
                                            <span>@ss.Email</span>
                                        </li>
                                        <li class="mb-3">
                                            <span class="fw-medium me-2">Trạng thái:</span>
                                            @if (ss.Status == SystemParam.ACTIVE)
                                            {
                                                <span class="badge bg-label-success">Hoạt động</span>
                                            }
                                            else
                                            {
                                                <span class="badge bg-label-danger">Ngưng hoạt động</span>
                                            }

                                        </li>
                                        <li class="mb-3">
                                            <span class="fw-medium me-2">Số điện thoại:</span>
                                            <span>@ss.Phone</span>
                                        </li>
                                    </ul>

                                    <div class="d-flex justify-content-center">
                                        <a href="javascript:;"
                                           class="btn btn-primary me-3"
                                           data-bs-target="#editProfile"
                                           data-bs-toggle="modal">Edit Details</a>
                                    </div>
                                </div>

                            </div>

                        </div>

                    </div>
                    <div class="tab-pane fade" id="navs-pills-justified-profile" role="tabpanel">
                        <p>
                            Donut dragée jelly pie halvah. Danish gingerbread bonbon cookie wafer candy oat cake ice
                            cream. Gummies halvah tootsie roll muffin biscuit icing dessert gingerbread. Pastry ice cream
                            cheesecake fruitcake.
                        </p>
                        <p class="mb-0">
                            Jelly-o jelly beans icing pastry cake cake lemon drops. Muffin muffin pie tiramisu halvah
                            cotton candy liquorice caramels.
                        </p>
                    </div>
                    <div class="tab-pane fade" id="navs-pills-justified-messages" role="tabpanel">
                        <p>
                            Oat cake chupa chups dragée donut toffee. Sweet cotton candy jelly beans macaroon gummies
                            cupcake gummi bears cake chocolate.
                        </p>
                        <p class="mb-0">
                            Cake chocolate bar cotton candy apple pie tootsie roll ice cream apple pie brownie cake. Sweet
                            roll icing sesame snaps caramels danish toffee. Brownie biscuit dessert dessert. Pudding jelly
                            jelly-o tart brownie jelly.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="~/Scripts/ScriptModel/user-script.js"></script>

<script>
    document.getElementById('accountActivation').addEventListener('change', function () {
        const checkbox = this;
        const checkboxLabel = document.querySelector('label[for="accountActivation"]');
        const warningMessage = document.getElementById('warningMessage');

        if (checkbox.checked) {
            // Reset the styles to normal
            checkbox.style.outline = '';
            checkboxLabel.style.color = '';
            warningMessage.style.display = 'none';
        }
    });

</script>

<div class="modal fade" id="editProfile" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-simple modal-edit-user">
        <div class="modal-content p-3 p-md-5">
            <div class="modal-body">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                <div class="text-center mb-4">
                    <h3>Edit User Information</h3>
                    <p>Updating user details will receive a privacy audit.</p>
                </div>
                <form id="editUserForm" class="row g-3" onsubmit="return false">
                    <div class="col-12 col-md-6">
                        <label class="form-label" for="modalEditUserFirstName">First Name</label>
                        <input type="text"
                               id="modalEditUserFirstName"
                               name="modalEditUserFirstName"
                               class="form-control"
                               placeholder="John" />
                    </div>
                    <div class="col-12 col-md-6">
                        <label class="form-label" for="modalEditUserLastName">Last Name</label>
                        <input type="text"
                               id="modalEditUserLastName"
                               name="modalEditUserLastName"
                               class="form-control"
                               placeholder="Doe" />
                    </div>
                    <div class="col-12">
                        <label class="form-label" for="modalEditUserName">Username</label>
                        <input type="text"
                               id="modalEditUserName"
                               name="modalEditUserName"
                               class="form-control"
                               placeholder="john.doe.007" />
                    </div>
                    <div class="col-12 col-md-6">
                        <label class="form-label" for="modalEditUserEmail">Email</label>
                        <input type="text"
                               id="modalEditUserEmail"
                               name="modalEditUserEmail"
                               class="form-control"
                               placeholder="example@domain.com" />
                    </div>
                    <div class="col-12 col-md-6">
                        <label class="form-label" for="modalEditUserStatus">Status</label>
                        <select id="modalEditUserStatus"
                                name="modalEditUserStatus"
                                class="form-select"
                                aria-label="Default select example">
                            <option selected>Status</option>
                            <option value="1">Active</option>
                            <option value="2">Inactive</option>
                            <option value="3">Suspended</option>
                        </select>
                    </div>
                    <div class="col-12 col-md-6">
                        <label class="form-label" for="modalEditTaxID">Tax ID</label>
                        <input type="text"
                               id="modalEditTaxID"
                               name="modalEditTaxID"
                               class="form-control modal-edit-tax-id"
                               placeholder="123 456 7890" />
                    </div>
                    <div class="col-12 col-md-6">
                        <label class="form-label" for="modalEditUserPhone">Phone Number</label>
                        <div class="input-group input-group-merge">
                            <span class="input-group-text">+1</span>
                            <input type="text"
                                   id="modalEditUserPhone"
                                   name="modalEditUserPhone"
                                   class="form-control phone-number-mask"
                                   placeholder="202 555 0111" />
                        </div>
                    </div>
                    <div class="col-12 col-md-6">
                        <label class="form-label" for="modalEditUserLanguage">Language</label>
                        <select id="modalEditUserLanguage"
                                name="modalEditUserLanguage"
                                class="select2 form-select"
                                multiple>
                            <option value="">Select</option>
                            <option value="english" selected>English</option>
                            <option value="spanish">Spanish</option>
                            <option value="french">French</option>
                            <option value="german">German</option>
                            <option value="dutch">Dutch</option>
                            <option value="hebrew">Hebrew</option>
                            <option value="sanskrit">Sanskrit</option>
                            <option value="hindi">Hindi</option>
                        </select>
                    </div>
                    <div class="col-12 col-md-6">
                        <label class="form-label" for="modalEditUserCountry">Country</label>
                        <select id="modalEditUserCountry"
                                name="modalEditUserCountry"
                                class="select2 form-select"
                                data-allow-clear="true">
                            <option value="">Select</option>
                            <option value="Australia">Australia</option>
                            <option value="Bangladesh">Bangladesh</option>
                            <option value="Belarus">Belarus</option>
                            <option value="Brazil">Brazil</option>
                            <option value="Canada">Canada</option>
                            <option value="China">China</option>
                            <option value="France">France</option>
                            <option value="Germany">Germany</option>
                            <option value="India">India</option>
                            <option value="Indonesia">Indonesia</option>
                            <option value="Israel">Israel</option>
                            <option value="Italy">Italy</option>
                            <option value="Japan">Japan</option>
                            <option value="Korea">Korea, Republic of</option>
                            <option value="Mexico">Mexico</option>
                            <option value="Philippines">Philippines</option>
                            <option value="Russia">Russian Federation</option>
                            <option value="South Africa">South Africa</option>
                            <option value="Thailand">Thailand</option>
                            <option value="Turkey">Turkey</option>
                            <option value="Ukraine">Ukraine</option>
                            <option value="United Arab Emirates">United Arab Emirates</option>
                            <option value="United Kingdom">United Kingdom</option>
                            <option value="United States">United States</option>
                        </select>
                    </div>
                    <div class="col-12">
                        <label class="switch">
                            <input type="checkbox" class="switch-input" />
                            <span class="switch-toggle-slider">
                                <span class="switch-on"></span>
                                <span class="switch-off"></span>
                            </span>
                            <span class="switch-label">Use as a billing address?</span>
                        </label>
                    </div>
                    <div class="col-12 text-center">
                        <button type="submit" class="btn btn-primary me-sm-3 me-1">Submit</button>
                        <button type="reset"
                                class="btn btn-label-secondary"
                                data-bs-dismiss="modal"
                                aria-label="Close">
                            Cancel
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>